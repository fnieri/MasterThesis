\section{An overview of $\Delta$QSD}
    $\Delta$QSD is a metrics-based, quality-centric paradigm that uses formalised outcome diagrams to explore the performance consequences of design decisions.

    Outcome diagrams capture observational properties of the system. The $\Delta$QSD paradigm derives bounds on performance expressed as probability distribution, encompassing all possible executions of the system. 
 
    The following sections are a summary of multiple articles and presentation formalizing the paradigm.
 
 \subsection{Outcome}
        An outcome $O$ is a specific system behaviour with a start event $s$ and end event $e$, formally, what the system obtains by performing one of its tasks. One task corresponds to one outcome and viceversa. When an outcome is performed, it means that the task of an outcome is performed.

    The distinct set of starting and terminating events is called the observables. Once an observable from the starting set occurs, there is no guarantee that a corresponding event in the terminating set will occur within the duration limit (required time to complete). An observable is \textit{done}  when it occurs during the time limit.
    
    Outcome are represented as circles, with the starting and terminating set of events being represented by boxes.
    \begin{figure}[H]
        \begin{center}
            \includegraphics[scale=1.3]{tikz/outcome.pdf}
        \end{center}
        \caption{The outcome (circle) and the starting set (left) and terminating set (right) of events}
    \end{figure}

\subsection{Quality attenuation ($\Delta$Q)}
        In an ideal system, an outcome would deliver a desidered behaviour without error, failure, delay, but this is not the case. The quality of an outcome response "attenuated to the relative ideal" is called "quality attenuation" ($\Delta$Q). Since it can depend on many factors (geographical, physical \dots), $\Delta$Q is modeled as a random variable.

    As $\Delta$Q captures deviation from ideal behavior, and incorporates delay, which is a continuous random variable, and failures/timeouts, which are discrete variables, it can be described mathematically as an \textit{Improper Random Variable}, where the probability of a delay $<$ 1.

    $\Delta$Q(x) will be the probability that an outcome $O$ will occur in time $t \le x$. The \textbf{\textit{intangible mass}} $1 - \lim_{x\to\infty}\Delta Q(x)$ of a $\Delta$Q will encode the probability of failure/timeout/exception.
    
    \begin{figure}[H]
        \begin{center}
            \includegraphics{tikz/intangible.pdf}
        \end{center}
        \caption{Intangible mass (red) of a $\Delta$Q, the observable had a failure rate of about 5\% }
    \end{figure}
    
    \subsection{Partial ordering}
        A CDF of a $\Delta$Q is \textit{less than} the other if its CDF is everywhere to the left and above the other. Mathematically, it is a partial order. 
        
        If two $\Delta$Qs instersect, they are not ordered.

    \subsection{Timeliness}
        Timeliness is defined as a relation between an observed $\Delta Q_{obs}$ and a required $\Delta Q_{req}$. Timeliness is delivering results within required time bounds (sufficiently often).
     
    \subsection{QTA, required $\Delta$Q}
         The Quantitative Timeliness Agreement maps objective measurements to the subjective perception of application performance [cite]. It specifies what the base system does and its limits
         \paragraph{QTA example}: Imagine a system where 25\% of the executions should take $<$ 15 ms, 50\% $<$ 25 ms and 75\% $<$ 35 ms, all queries have a maximum delay of 50ms and 5\% of executions can timeout, the QTA can be represented as a step function.
    
        \paragraph{Slack} When $\Delta$Q is strictly less than the requirement, we say there is performance \textit{slack}.

        \paragraph{Hazard} When $\Delta$Q is strictly greater than the requirement, there is performance hazard.

        \begin{figure}[H]
            \begin{center}
                \includegraphics[scale=1.2]{tikz/cdf_qta_slack.pdf}
            \end{center}
            \caption{The system in blue is showing slack and satisfies the requirement, the system in orange is showing signs that it cannot handle the stress, it is not respecting the $\Delta$Q$_{req}$}.
        \end{figure}
         %[cite algebraic]
         % https://wiki.broadband-forum.org/display/RESOURCES/Broadband+Forum+Published+Resources#tf-filters=%7B%22selectfilters%22%3A%5B%5D%2C%22userfilters%22%3A%5B%22Number%22%5D%2C%22numberfilters%22%3A%5B%5D%2C%22datefilters%22%3A%5B%5D%2C%22globalfilter%22%3Atrue%2C%22columnhider%22%3Afalse%2C%22iconfilters%22%3A%5B%5D%2C%22defaults%22%3A%5B%22TR-452.1%22%2C%22%22%5D%2C%22width%22%3A%5B%22150%22%2C%22150%22%5D%2C%22inverse%22%3A%5Bfalse%2Cfalse%5D%2C%22order%22%3A%5B0%2C1%5D%2C%22ddSeparator%22%3A%5B%5D%2C%22ddOperator%22%3A%5B%5D%2C%22sorts%22%3A%5B%22Date%20%E2%87%A9%22%5D%7D


    \subsection{Outcome diagram}
        An outcome diagram captures the causal relationships between the outcomes, each outcome diagram can be presented algebraically with an outcome expression. It allows computing the $\Delta$Q for the whole system.
        There are four different ways to represent the relationships between outcomes.

    \subsubsection{Sequential composition}
        If we assume two outcomes $O_A$, $O_B$ where end event of $O_A$ is the start event of $O_B$, the probability distribution of $O_A$ and $O_B$ is given by the convolution of the PDFs of $O_A$ and $O_B$.
        Where convolution ($\circledast$) between two PDF is :
        \begin{equation}
            PDF_{AB}(t) =\int\limits_0^t PDF_A(\delta) \cdot PDF_B(t-\delta)d\delta 
            \label{eq:}
        \end{equation}

            and thus $\Delta$Q$_{AB}$:
        \begin{equation}
            \Delta Q_{AB} = \Delta Q_A \circledast \Delta Q_B
            \label{eq:}
        \end{equation}
        
    \subsubsection{First to finish}
            If we assume two independent outcomes $O_A$, $O_B$ with the same start event, first-to-finish occurs when at least one end event occurs, it can be calculated as:
        \begin{equation}
            \Delta Q_{FTF(A, B)} = \Delta Q_A + \Delta Q_B - \Delta Q_A \cdot \Delta Q_B  
            \label{eq:ftf}
        \end{equation}
            
    \subsubsection{All to finish}
        If we assume two independent outcomes $O_A$, $O_B$ with the same start event, all-to-finish occurs when both end events occur, it can be calculated as:
        \begin{equation}
            \Delta Q_{ATF(A, B)} = \Delta Q_A \cdot \Delta Q_B 
            \label{eq:atf}
        \end{equation}
        \subsubsection{Probabilistic choice}
        If we assume two possible outcomes $O_A$ and $O_B$ and exactly one outcome is chosen during each occurence of a start event and:
        \begin{itemize}
            \item $O_A$ happens with probability $\dfrac{p}{p+q}$
            \item $O_B$ happens with probability $\dfrac{q}{p + q}$
        \end{itemize}
        \begin{equation}
           \Delta Q_{PC}(A, B) = \dfrac{p}{p + q}\Delta Q_A + \dfrac{q}{p + q}\Delta Q_B 
            \label{eq:pc}
        \end{equation} 

    \begin{figure}[H]
        \begin{center}
            \includegraphics[width = \textwidth]{tikz/op.pdf}
        \end{center}
        \caption{The possible relationships in an outcome diagram: Sequential composition, probabilistic choice, first-to-finish, all-to-finish}
    \end{figure}
    First-to-finish, All-to-finish and probabilistic-choice are calculated on the CDF of the $\Delta$Q.
    \subsection{Independence hypothesis}
        
        Assume two sequentially composed outcomes $o_1$, $o_2$ running on the same processor. A probe $p$ observing the execution from the start event of $o_1$ to the end event of $o_2$. 
        \begin{figure}[H]
            \begin{center}
                \includegraphics[scale=1.6]{tikz/indep.pdf}
            \end{center}
        \end{figure}
        
        At low load, the two components behavior will be independent, the system will behave linearly, the observed delay of the probe $p$ will be equal to the convolution of $o_1$, $o_2$ ($o_1 \circledast o_2$). \\
        
        When load increases, the two components will start to show dependent behaviour due to the processor utilisation increasing, the observed $\Delta$Q will then deviate from what is calculated.
        \begin{figure}[H]
            \begin{center}
                \includegraphics[scale=1.1]{tikz/cdf_indep.pdf}
            \end{center}
            \caption{When the components are independent, what is observed (blue) and calculated (red) can be superposed, whilst when $o_1$ and $o_2$ show initial signs of dependency, what is observed (green) can be seen deviating from the calculated $\Delta$Q.}
        \end{figure}

        When the system is far from being overloaded, the effect is noticeable thanks to $\Delta$QSD even if the system is far from being overloaded. As the cliff edge of overload is approached, the nonlinearity will increase.
